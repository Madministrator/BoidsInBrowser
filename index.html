<!doctype html>
<html lang="en">

<head>
	<title>BoidsInBrowser</title>
	<style>
		canvas {
			border: solid thick black;
			margin-left: auto;
			margin-right: auto;
		}
		button {
			display:block;
		}
	</style>
</head>

<body>
	<canvas id="boids" style="width: 95%"></canvas>
	<button onClick="pause()">Pause</button>
	<button onClick="play()">Play</button>
	<script src="Boid.js"></script>
	<script src="Flock.js"></script>
	<script>
		let canvas = document.getElementById('boids')
		let context = canvas.getContext('2d')

		let flock = new Flock(canvas, window, 50)
		flock.verbosity.vision = true
		flock.verbosity.v1 = true
		flock.verbosity.decision = true
		flock.verbosity.d1 = true
		let raf // for animation
		
		function animate() {
			flock.step()
			raf = window.requestAnimationFrame(animate)
		}

		function play() {
			raf = window.requestAnimationFrame(animate)
		}

		function pause() {
			window.cancelAnimationFrame(raf)
		}

		play()

		// let testBoid = new Boid(20, 20, 8 * Math.PI / 6)
		// console.log(testBoid.detectObstacles([{x:15,y:1}], canvas.clientWidth, canvas.clientHeight))
		// console.log(testBoid.decideDirection([]))
		// testBoid.drawVision(context)
		// testBoid.drawDecision(context)
		// testBoid.drawBoid(context)
	</script>
</body>

</html>